<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>title</title>
    <script>

        /**
         正则表达式:也叫规则表达式,按照一定的规则组成的一个表达式,这个表达式的作用主要是匹配字符串的,
         "我的电话:10086,他的电话:10010,你的电话:10000" 正则表达式,把这个字符串中的所有的数字找到
         正则表达式的作用:匹配字符串的
         在大多数编程语言中都可以使用
         正则表达式的组成:是由元字符或者是限定符组成的一个式子


         元字符:
         .
         表示的是:除了\n以外的任意的一个字符   "fdsfs238"


         []
         表示的是:范围,
         [0-9] 表示的是0到9之间的任意的一个数字,  "789" [0-9]
         [1-7] 表示的是1到7之间的任意的一个数字
         [a-z] 表示的是:所有的小写的字母中的任意的一个
         [A-Z] 表示的是:所有的大写的字母中的任意的一个
         [a-zA-Z] 表示的是:所有的字母的任意的一个
         [0-9a-zA-Z] 表示的是: 所有的数字或者是字母中的一个
         [] 另一个含义: 把正则表达式中元字符的意义干掉    [.] 就是一个.



         |
         或者
         [0-9]|[a-z] 表示的是要么是一个数字,要么是一个小写的字母


         ()
         分组 提升优先级，参考下面的案例
         [0-9]|([a-z])|[A-Z]
         ([0-9])([1-5])([a-z]) 三组, 从最左边开始计算
         (()(())) 四组，从左侧数左括号，有几个就是几组


         下面的这些都是元字符,但是也可以叫限定符

         *
         表示的是:前面的表达式出现了0次到多次，注意是前面的表达式不是前面的所有
         [a-z][0-9]* 小写字母中的任意一个 后面是要么是没有数字的,要么是多个数字的
         "fdsfs3223323"  [a-z][0-9]*


         +
         表示的是:前面的表达式出现了1次到多次
         [a-z][9]+  小写字母一个后面最少一个9,或者多个9
         "fesfewww9fefds"



         ?
         表示的是:前面的表达式出现了0次到1次,最少是0次,最多1次 ,
         [4][a-z]? "1231234ij"
         另一个含义:阻止贪婪模式

         限定符：
         限定前面的表达式出现的次数
         {}
         更加的明确前面的表达式出现的次数
         {0,} 表示的是前面的表达式出现了0次到多次,和 *一样的
         {1,} 表示的是前面的表达式出现了1次到多次,和 +一样的
         {0,1} 表示的是前面的表达式出现了0次到1次,和 ?一样的
         {5,10} 表示的是前面的表达式连续出现了5次到10次，5,6,7,8,9,10
         {4} 前面的表达式连续出现了4次
         {,10} 错误的========不能这么写


         ^
         表示的是以什么开始,或者是取非(取反) ，表达式外面是以什么开始，表达式里面是取反
         参考下面的案例
         ^[0-9] 以数字开头
         ^[a-z] 以小写字母开始
         [^0-9] 取反,非数字
         [^a-z] 非小写字母
         [^0-9a-zA-Z_]


         $
         表示的是以什么结束   [0-9][a-z]$  必须以小写字母结束
         ^[0-9][a-z] 相当于是严格模式   "3f2432e"  "4f"


         \
         转义符
         1：在非特殊字符之前的反斜杠表示下一个字符是特殊的，不能从字面上解释。
         例如:\d不表示字母d，而是表示数字中的任意一个
         2：反斜杠也可以将其后的特殊字符，转义为字面量，从字面上解释。
         例如：参考下面的案例

         \d 数字中的任意一个,
         \D 非数字中的一个

         \s 空白符中的一个
         \S 非空白符

         \w 非特殊符号 _这个下划线是非特殊字符，非特殊字符：字母、数字、_(下划线)  其它都是特殊字符
         \W 特殊符号

         \b 单词的边界
         "what are you no sha lei"



         注意：
         a:非特殊字符是指 数字、字母、_(下划线)，其它都是特殊字符；
         b：严格模式和非严格模式，这两种模式是根据^和$区分的，开头是^结尾是$的正则表达式是严格模式
         例如：[0-9]就是不严格模式，3、a87b、3ty、777都匹配[0-9]
         ^[0-9]$ 只有单个数字匹配


         练习：
         身份证的正则表达式
         写法一：([1-9][0-9]{14})|([1-9][0-9]{16}[0-9xX])
         解释：身份证有15位或者18位，“|”前面是15位的，并且15位的身份证第一位不能是0；“|”后面是18位的，且第一位不能是0最后一位可以是数字或者X；
         写法二：([1-9][0-9]{14})([0-9]{2}[0-9xX])?
         解释：第一组15位，因为无论是15位的身份证还是18位的身份证，这一组都是必须的，第二组3位，第二组要么出现0次就是15位的身份证，要么出现1次就是18位的身份证；


         座机号码的正则表达式
         010-19876754   0431-87123490
         写法一：[0-9]{3,4}[-][0-9]{8}
         写法二：\d{3,4}[-]\d{8}
         前半部分3位或者4位数字，中间“-”连接，后半部分8位数字


         手机号码的正则表达式
         130 131 132 133 134 135 136 137 138 139
         143 147
         150 151 152 153 154 155 156 157 158 159
         170 171 173 176 177
         180 181 182 183 184 185 186 187 188 189
         写法：([1][358][0-9][0-9]{8})|([1][4][37][0-9]{8})|([1][7][01367][0-9]{8})


         邮箱的正则表达式,必须要记住的
         sd2113_3.-fd@itcast.com.cn
         写法：[0-9a-zA-Z_.-]+[@][0-9a-zA-Z_.-]+([.][a-zA-Z]+){1,2}
         解释：这里需要注意的是第一个“[]”里最后一个“-”，这个“-”用的是本意，因此我们放在最后
         写法二：\w+@\w+\.\w+(\.\w+)?




         */
    </script>
</head>
<body>


<script>
    /**
     正则表达式对象和相关方法
     test():验证某个字符串是否匹配给定正则表达式
     */
    var reg = new RegExp(/\d{5}/);//里面的正则表达式用//包裹
    //  验证字符串是否匹配给定的正则表达式
    console.log(reg.test("移动是10086"));//true
    console.log(reg.test("我的手机号18117843621"));//true
    console.log(reg.test("1234哈5a"));//false 没有连续出现

    console.log("***********************1111111******************************");

    var reg2 = new RegExp(/\d{3,5}/);
    console.log(reg2.test("12"));//false 没有连续出现
    console.log(reg2.test("12的3"));//false 没有连续出现
    console.log(reg2.test("12g34"));//false 没有连续出现
    console.log(reg2.test("啊123"));//true
    console.log(reg2.test("123456好"));//true

    console.log("*************************222222***************************");
    console.log(/[a-zA-Z]+/.test("hello"));//true
    console.log(/./.test("除了回车换行以为的任意字符"));//true
    console.log(/.*/.test("0个到多个"));//true
    console.log(/.+/.test("1个到多个"));//true
    console.log(/.?/.test("哈哈"));//true
    console.log(/[0-9]/.test("9527"));//true
    console.log(/[a-z]/.test("what"));//true
    console.log(/[A-Z]/.test("Are"));//true
    console.log(/[a-zA-Z]/.test("干啥子"));//false
    console.log(/[0-9a-zA-Z]/.test("9ebg"));//true
    console.log(/[a-z]{2,3}/.test("arfsf"));//true

    console.log("*************************33333***************************");


    console.log(/\d/.test("998"));//true

    console.log(/\d*/.test("998"));//true

    console.log(/\d+/.test("998"));//true

    console.log(/\d{0,}/.test("998"));//true

    console.log(/\d{2,3}/.test("998"));//true

    console.log(/\D/.test("eat"));//true

    console.log(/\s/.test("  "));//true
    console.log(/\S/.test("嘎嘎 "));//true
    console.log(/\w/.test("_"));//true
    console.log(/\W/.test("_"));//false

    console.log("************************444444****************************");


    /**
     ()与|的用法
     ()括号里可以直接写字符，就代表字符本意
     */
    //字符串中要么有a，要么有连续的hello
    console.log(/a|(hello)/.test("hhellaloo"));//true

    /**
     转移字符：\
     可以将字面意思转换为特殊意思，例如：\d 表示一个数字
     可以将特殊意思转换为字面意思，例如：/* 表示*， 而*本来表示出现多次
     */
    console.log(/\d*/.test("123"));//true 数字出现多次
    console.log(/\d\*/.test("123"));//false 一个数字后面跟一个*,这里的*是字面意思，不是特殊意思：多个
    console.log(/\d\*/.test("123*"));//true

    console.log("************************55555****************************");

    /**
     ^
     表示以什么开始；
     表示取反；
     */
    //表示以什么开始
    console.log(/^[a]/.test("aba"));//true 以字母a开始
    console.log(/^a/.test("aba"));//true 以字母a开始 但是a尽量用[]括起来
    console.log(/^[2-4]/.test("3大口大口"));//true 以2或3或4开始
    //表示取反
    console.log(/[^a-z]/.test("abcd"));//false 表示不能有小写字母
    console.log(/[^a-z]/.test("ABCD123对各是"));//true 表示不能有小写字母


    /**
     中文字;正则表达式,记住就行了
     [\u4e00-\u9fa5]    [一-龥]
     */
    var china = new RegExp(/[\u4e00-\u9fa5]/);


    /**
     字符串的match()方法
     g:global 全局搜索
     */
    var strma = "中国移动:10086,中国联通:10010,中国电信:10000";
    //把里面所有的数字全部显示出来
    var array = strma.match(/\d{5}/g);//g：global 全局搜索
    console.log(array);// ["10086", "10010", "10000"]

    /**
     提取括号分组：$1 $2 $3 $4 $5......
     */
        //提取这里的日
    var dateStr = "2017-11-12";
    var dateArr = dateStr.match(/(\d{4})[-](\d{2})[-](\d{2})/g);
    console.log(dateArr);//["2017-11-12"]
    //正则表达式对象.$1:匹配第一个括号分组2017；$2：匹配第二个括号分组11；$3：匹配第三个括号分组12；依次列推。。。
    console.log(RegExp.$3);


    /**
     字符串的replace()方法
     */
    var repStr = "小苏好帅哦,b真的是太帅了,帅,就是d真帅";
    repStr = repStr.replace(/帅|[a-z]/g, "fuck");//g:global
    console.log(repStr);

    /**
     忽略大小写搜索
     i:ignore 忽略大小写
     */
    var istr = "HhpphH";
    // istr = istr.replace(/[h]/gi, "S");也可以
    var ireg = new RegExp(/[h]/gi);
    istr = istr.replace(ireg, "S");
    console.log(istr);//SSppSS


    /**
     正则对象的exec()方法
     */
    var estr = "中国移动:10086,中国联通:10010,中国电信:10000";
    var ereg = /\d{5}/g;
    //通过正则表达式匹配这个字符串
    var earray = ereg.exec(estr);
    while (earray != null) {
        //输出匹配的内容
        console.log(earray[0]);
        earray = ereg.exec(estr);
    }





    /**
     RegExp.$n  ?: ?= ?! 括号 临时缓冲区的存储与读取
     https://www.cnblogs.com/djh-create/p/5964986.html
     */

    /**
     正则表达式括号的作用
     https://blog.csdn.net/qq_40241957/article/details/97750036
     * */
    var regexa = /(\d{4})-(\d{2})-(\d{2})/;
    // var regexa = /(\d{4})-(\d{2})-(\d{2})/g;  //["2017-06-12"] 用了g结果就不同了
    // var regexa = /\d{4}-\d{2}-\d{2}/; ["2017-06-12"]
    var stringa = "2017-06-12";
    console.log( stringa.match(regexa) ); // ["2017-06-12", "2017", "06", "12"]

    console.log("++++++++++++++++20211229++++++++++++++++")

    var mmData = "今天a天a气a不错";
    console.log(mmData.replace("a","b"))//今天b天a气a不错
    console.log(mmData.replace(/a/,"b"))//今天b天a气a不错
    console.log(mmData.replace(/a/g,"b"))//今天b天b气b不错
</script>
</body>
</html>