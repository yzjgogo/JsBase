<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    /**
     闭包：
     概念：函数A中,有一个函数B,函数B中可以访问函数A中定义的变量或者是数据,此时形成了闭包(这句话暂时不严谨)；
     模式:函数模式的闭包,对象模式的闭包；
     作用:缓存数据,延长作用域链；例如缓存的是外侧函数A中的属性数据，外层函数A返回一个函数这个函数可访问缓存的数据，因此作用于链延长；
     优点和缺点:都是缓存数据
     */

    /**
     函数模式的闭包1
     */
    function f1() {
        var num = 10;

        //函数的声明
        function f2() {
            console.log(num);
        }

        //函数调用
        f2();
    }

    f1();


    /**
     函数模式的闭包2
     */

       function f3() {
         var num=10;//数据被缓存
         return function () {
           console.log(num);
           return num;
         }
       }

      var ff= f3();
      var result= ff();
       console.log(result);//作用链被延长


    /**
     对象模式的闭包1
     */
    function f4() {
        var num = 10;//数据被缓存
        var obj = {
            age: num
        };
        console.log(obj.age);//10
    }
    f4();


    /**
        对象模式的闭包2
     */

       function f5() {
         var num=100;//数据被缓存
         return {
           age:num
         }
       }

      var reObj= f5();
       console.log(reObj.age);//作用连延长


    /**
        闭包案例
     */
    function numFun() {
        var num = 10;//被缓存
        return function () {
            num++;
            return num;
        }
    }
    var reNum = numFun();//延长作用链，读写缓存数据
    console.log(reNum());//11
    console.log(reNum());//12
    console.log(reNum());//13
</script>
</body>
</html>