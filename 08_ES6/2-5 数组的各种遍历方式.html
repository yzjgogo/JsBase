<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    let arr = [1, 2, 3, 2, 4]

    /**
     * ES5中的数组遍历方式
     * /

    /**
     * for循环遍历
     */
    // for (let i = 0; i < arr.length; i++) {
    //     if(arr[i] == 2){
    //         continue
    //     }
    //     console.log(arr[i])
    // }

    /**
     * forEach,不能用continue和break
     */
    // arr.forEach(function(elem, index, array){
    //     if(arr[index] == 2){
    //         // continue
    //     }
    //     console.log(elem, index)
    // })

    /**
     * map遍历过程中对每一个值进行变换，返回一个新的数组
     */
    // let result = arr.map(function(value){
    //     value += 1
    //     // console.log(value)
    //     return value
    // })
    // console.log(arr, result)   //[1, 2, 3, 2, 4]  [2, 3, 4, 3, 5]

    /**
     * filter遍历过程中，逐个判断每一个元素，如果满足条件就return true,所有return true的元素组成新的数组返回
     */
    // let result = arr.filter(function (value) {
    //     // console.log(value)
    //     return value == 2
    // })
    // console.log(arr, result)   //[1, 2, 3, 2, 4] [2, 2]

    /**
     * some 判断是否有元素符合function函数，如果有返回true，否则返回false
     */
    // let result = arr.some(function (value) {
    //     // console.log(value)
    //     return value == 4//判断是否某个元素==4
    // })
    // console.log(arr, result)   // [1, 2, 3, 2, 4] true

    /**
     * every 判断是否每一个元素都满足函数function,全部满足才返回true，否则返回false
     * @type {boolean}
     */
    // let result = arr.every(function (value) {
    //     return value == 2
    // })
    // console.log(arr, result)

    /**
     * reduce 接收一个函数作为累加器
     */
    // let sum = arr.reduce(function(prev, cur, index, array){
    //     return prev + cur
    // }, 0)
    // console.log(sum)
    // let max = arr.reduce(function(prev, cur){
    //     return Math.max(prev, cur)
    // })
    // console.log(max)

    // let res = arr.reduce(function(prev, cur){
    //     prev.indexOf(cur) == -1 && prev.push(cur)
    //     return prev
    // }, [])
    // console.log(res)

    /**
     *for...in 确实可以遍历数组，而且还支持 continue、break等功能，但是它真的没有瑕疵吗？如果 array 有自定义属性，你发现也会被遍历出来(显然不合理)。
     * 这是因为 for...in 是为遍历对象创造的（{a:1, b:2}），不是为数组设计的。
     *
     * 注意
     *
     for...in不能用于遍历数组。
     for...in代码块中不能有 return，不然会抛出异常。

     下面这个例子把foo函数和yzjgogo属性也遍历出来了，这显然不是我们想要的

     */
    // Array.prototype.foo = function(){
    //     console.log('foo')
    // }
    // Array.prototype.yzjgogo="yzj"

    // for(let index in arr){
    //     console.log("开始"+index)
    //     console.log(index, arr[index])
    //     console.log("结束"+index)
    // }



    /**
     * ES6中的数组遍历方式
     * /


    /**
     * find() 方法返回数组中满足提供的测试函数的第一个元素的值，否则返回 undefined。
     * 语法：arr.find(callback[, thisArg])
     * 语法：arr.findIndex(callback[, thisArg])
     * thisArg:执行回调时用作 this 的对象,可省略
     * @type {number[]}
     */
    //     arr=[5, 12, 8, 130, 44];
    // let res = arr.find(function (value) {
    //     return value == 8
    // })
    // console.log(arr, res)  //[5, 12, 8, 130, 44] 8

    /**
     * findIndex()方法返回数组中满足提供的测试函数的第一个元素的索引。否则返回-1。其实这个和 find() 是成对的，不同的是它返回的是索引而不是值。
     * 语法：arr.findIndex(callback[, thisArg])
     * thisArg:执行回调时用作 this 的对象,可省略
     */
    // arr=[5, 12, 8, 130, 44];
    // let res = arr.findIndex(function (value) {
    //     // console.log(this)
    //     // console.log(arr)
    //     return value == 8
    // },arr)
    // console.log(arr, res)   //[5, 12, 8, 130, 44] 2


    /**
     for...of

     for (variable of iterable) {

}

     任何可迭代的对象都可以用for...of,自己研究下iterable，和java的一个道理

     for (let item of arr) {
    console.log(item)
}

     for (let item of arr.values()) {
    console.log(item)
}

     for (let item of arr.keys()) {
    console.log(item)
}

     for (let [index, item] of arr.entries()) {
    console.log(index, item)
}
     */
    for(let item of arr){
        console.log(item)
    }

</script>
</body>
</html>