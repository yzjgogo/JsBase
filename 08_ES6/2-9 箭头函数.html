<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    /**
        function name(){}
     这种方式定义函数，与函数的调用不分先后
     */
    // console.log(sum(4, 5))
    // function sum(x, y) {
    //     return x + y
    // }


    /**
     let sum = function(){}
     这种方式定义函数，与函数调用区分先后，这里就会报错，因为变量let sum一方面不会提升，另一方面，即使提升也只是提升声明，不提升赋值？
     */
    // console.log(sum)
    // let sum = function(x, y){
    //     return x + y
    // }

    /**
     * 箭头函数
     */
    // let sum = (x, y) => {
    //     return x + y
    // }

    //如果函数体只有一行，则可省略大括号和return关键字
    // let sum = (x, y) => x + y
    // console.log(sum(3, 4))

    //如果只有一个参数则可以省略小括号
    // let x = x => x

    // let x = function(x){
    //     return x
    // }


    let oBtn = document.querySelector('#btn')
    oBtn.addEventListener('click', function () {
        // console.log(this)  //this是oBtn

        //普通函数的this，指向调用时所在的对象
        // setTimeout(function () {
        //     console.log(this)   //this是window，因为实际上是window.setTimeout()
        // }, 1000)

        //普通函数可以通过bind改变this指向，从指向window改为指向oBtn
        // setTimeout(function () {
        //     // call apply bind
        //     console.log(this)  //oBtn
        // }.bind(this), 1000)

        //箭头函数的this指向定义时所在的对象，而不是调用时所在的对象
        // setTimeout(() => {
        //     console.log(this)  //箭头函数，通过作用域，从内到外一层层找，直到找到this，则这个this就是找到的this，例如这里就找到了oBtn,因为这个箭头函数在window.setTimeout()里所以不会找window
        // }, 1000)
    })

    /**
     * 箭头函数不可以作为构造函数
     * */
    // function People(name, age){
    //     console.log(this)
    //     this.name = name
    //     this.age = age
    // }
    // let People = (name, age) => {
    //     this.name = name
    //     this.age = age
    // }
    // let p1 = new People('xiecheng', 34)
    // console.log(p1)


    /**
     * 箭头函数不可以使用arguments对象，获取调用处传递的参数，但是可以使用rest参数
     */
    // let foo = (...args) => {
    //     // console.log(arguments)
    //     console.log(args)
    // }
    // foo(1, 2, 3)
</script>
</body>
</html>